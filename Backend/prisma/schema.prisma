generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Raffle {
  id             String   @id @default(uuid())
  title          String
  email          String
  password       String
  maximumNumbers Int      @map("maximum_numbers")
  drawDate       String?  @map("draw_date")
  prizePool      String?  @map("prize_pool")
  tickets        Ticket[]

  @@map("raffle")
}

model Ticket {
  id        Int      @id @default(autoincrement())
  number    Int
  name      String
  email     String?
  celNumber String?  @map("cel_number")
  paid      Boolean?
  raffleId  String   @map("raffle_id")

  raffle Raffle @relation(fields: [raffleId], references: [id])

  @@unique([raffleId, number])
  @@map("ticket")
}
